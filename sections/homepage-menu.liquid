<div class="homepage-menu">
  <ul class="menu-list">
    {% assign menu_items = 'ALL,TOPS,BOTTOMS,SOCKS,SHOES,ACCESSORIES' | split: ',' %}
    {% assign menu_handles = 'all,tops,bottoms,socks,shoes,accessories' | split: ',' %}

    {% for item in menu_items %}
      <li class="menu-item">
        <a href="#" class="menu-link" data-collection-handle="{{ menu_handles[forloop.index0] }}">
          {{ item }}
        </a>
      </li>
    {% endfor %}
  </ul>

  <!-- Featured Collection Container -->
  <div id="featured-collection" class="featured-collection">
    {% assign collection = collections[section.settings.featured_collection] %}
    {% if collection and collection.products.size > 0 %}
      <h3>{{ collection.title }}</h3>
      <div class="products">
        {% for product in collection.products %}
          <div class="product-item">
            <a href="{{ product.url }}">
              <img src="{{ product.featured_image | img_url: '300x300' }}" alt="{{ product.title }}">
              <p>{{ product.title }}</p>
            </a>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <p>No products found.</p>
    {% endif %}
  </div>
</div>

{% schema %}
{
  "name": "Homepage Menu",
  "settings": [
    {
      "type": "collection",
      "id": "featured_collection",
      "label": "Featured Collection"
    }
  ],
  "presets": [
    {
      "name": "Homepage Menu",
      "category": "Homepage"
    }
  ]
}
{% endschema %}
